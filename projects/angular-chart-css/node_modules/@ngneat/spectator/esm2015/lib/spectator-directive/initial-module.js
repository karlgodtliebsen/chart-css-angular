import { NO_ERRORS_SCHEMA } from '@angular/core';
import { initialModule } from '../base/initial-module';
/**
 * @internal
 */
export function initialSpectatorDirectiveModule(options) {
    const moduleMetadata = initialModule(options);
    if (options.declareDirective) {
        moduleMetadata.declarations.push(options.directive);
    }
    moduleMetadata.declarations.push(options.host);
    moduleMetadata.schemas = [options.shallow ? NO_ERRORS_SCHEMA : options.schemas || []];
    return moduleMetadata;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5pdGlhbC1tb2R1bGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9zcGVjdGF0b3Ivc3JjL2xpYi9zcGVjdGF0b3ItZGlyZWN0aXZlL2luaXRpYWwtbW9kdWxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUVqRCxPQUFPLEVBQUUsYUFBYSxFQUFrQixNQUFNLHdCQUF3QixDQUFDO0FBR3ZFOztHQUVHO0FBQ0gsTUFBTSxVQUFVLCtCQUErQixDQUFPLE9BQWtEO0lBQ3RHLE1BQU0sY0FBYyxHQUFHLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUU5QyxJQUFJLE9BQU8sQ0FBQyxnQkFBZ0IsRUFBRTtRQUM1QixjQUFjLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUM7S0FDckQ7SUFDRCxjQUFjLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7SUFFL0MsY0FBYyxDQUFDLE9BQU8sR0FBRyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsT0FBTyxJQUFJLEVBQUUsQ0FBQyxDQUFDO0lBRXRGLE9BQU8sY0FBYyxDQUFDO0FBQ3hCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOT19FUlJPUlNfU0NIRU1BIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IGluaXRpYWxNb2R1bGUsIE1vZHVsZU1ldGFkYXRhIH0gZnJvbSAnLi4vYmFzZS9pbml0aWFsLW1vZHVsZSc7XG5pbXBvcnQgeyBTcGVjdGF0b3JEaXJlY3RpdmVPcHRpb25zIH0gZnJvbSAnLi9vcHRpb25zJztcblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxTcGVjdGF0b3JEaXJlY3RpdmVNb2R1bGU8RCwgSD4ob3B0aW9uczogUmVxdWlyZWQ8U3BlY3RhdG9yRGlyZWN0aXZlT3B0aW9uczxELCBIPj4pOiBNb2R1bGVNZXRhZGF0YSB7XG4gIGNvbnN0IG1vZHVsZU1ldGFkYXRhID0gaW5pdGlhbE1vZHVsZShvcHRpb25zKTtcblxuICBpZiAob3B0aW9ucy5kZWNsYXJlRGlyZWN0aXZlKSB7XG4gICAgbW9kdWxlTWV0YWRhdGEuZGVjbGFyYXRpb25zLnB1c2gob3B0aW9ucy5kaXJlY3RpdmUpO1xuICB9XG4gIG1vZHVsZU1ldGFkYXRhLmRlY2xhcmF0aW9ucy5wdXNoKG9wdGlvbnMuaG9zdCk7XG5cbiAgbW9kdWxlTWV0YWRhdGEuc2NoZW1hcyA9IFtvcHRpb25zLnNoYWxsb3cgPyBOT19FUlJPUlNfU0NIRU1BIDogb3B0aW9ucy5zY2hlbWFzIHx8IFtdXTtcblxuICByZXR1cm4gbW9kdWxlTWV0YWRhdGE7XG59XG4iXX0=